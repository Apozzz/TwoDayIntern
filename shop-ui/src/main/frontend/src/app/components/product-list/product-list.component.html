<div class="main-container">
  <app-product-filter *ngIf="products?.length" [productData]="products"
    (filterChanged)="onFilterChange($event)"></app-product-filter>
  <div class="products-container">
    <div class="products-list">
      <h1>Products Results From Warehouse</h1>
      <app-product-sort (sortChanged)="onSortChange($event)"></app-product-sort>
      <div class="cards-container">
        <mat-card *ngFor="let product of filteredProducts" class="product-card">
          <mat-card-header>
            <mat-card-title>Name: {{product.name}}</mat-card-title>
            <mat-card-subtitle>Description: {{product.description}}</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <p>Price: ${{product.price}}</p>
            <p>Final Price: ${{product.finalPrice}}</p>
            <p>Available Quantity: {{product.quantity}}</p>
            <p *ngIf="product.quantity <= 0" class="out-of-stock">Out of Stock</p>
            <mat-card-actions>
              <button mat-button [disabled]="product.quantity <= 0" (click)="selectProductForPurchase(product.id)">Purchase</button>
            </mat-card-actions>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
</div>